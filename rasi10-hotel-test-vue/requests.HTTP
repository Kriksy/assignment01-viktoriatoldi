
@port={{$dotenv PORT}}
@server=http://localhost:{{port}}
@tester_username={{$dotenv TEST_USERNAME}}
@tester_password={{$dotenv TEST_PASSWORD}}

#

### POST REQUEST TO GET AN ACCESS TOKEN

POST {{server}}/api/login
content-type: application/json

{
    "username": "{{tester_username}}",
    "password": "{{tester_password}}"
}

### GET REQUEST TO RETRIEVE ALL CLIENTS
# @prompt token Tester Token
GET {{server}}/api/clients 
content-type: application/json
accept: application/json
body: null
x-user-auth:{ "username": "{{tester_username}}", "token": "{{token}}"}

### CREATE A NEW CLIENT
# @prompt token Tester Token
# @prompt username Client Username
# @prompt email Client Email
# @prompt telephone Client Telephone
POST {{server}}/api/client/new
content-type: application/json
x-user-auth: {"username":"{{tester_username}}","token":"{{token}}"}

{
    "id":"",
    "name": "{{username}}",
    "email": "{{email}}",
    "telephone": "{{telephone}}"
}

### UPDATE A CLIENT
# @prompt token Tester Token
# @prompt username Client Username to update
# @prompt client_id Client ID

# @prompt updated_name Client Updated Name
# @prompt updated_email Client Updated Email
# @prompt updated_telephone Client Updated Telephone

PUT {{server}}/api/client/{{client_id}}
content-type: application/json
x-user-auth: {"username":"{{tester_username}}","token":"{{token}}"}

{
    "id": "",
    "name": "{{updated_name}}",
    "email": "{{updated_email}}",
    "telephone": "{{updated_telephone}}"
}

### DELETE A CLIENT
# @prompt token Tester Token
# @prompt username Client Username to delete
# @prompt client_id Client ID
DELETE {{server}}/api/client/{{client_id}}
x-user-auth: {"username":"{{tester_username}}","token":"{{token}}"}